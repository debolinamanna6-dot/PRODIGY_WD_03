<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic Tac Toe</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #bace0aff;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 40px;
    }
    h1 { margin-bottom: 10px; }

    .container {
        display: grid;
        grid-template-columns: repeat(3, 100px);
        grid-gap: 5px;
    }

    .cell {
        width: 100px;
        height: 100px;
        background: white;
        border-radius: 10px;
        font-size: 2.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        font-weight: bold;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .cell:hover { background: #eaeaea; }

    #message {
        margin-top: 20px;
        font-size: 1.2rem;
        font-weight: bold;
    }

    button {
        margin-top: 15px;
        padding: 10px 20px;
        font-size: 1rem;
        cursor: pointer;
        border: none;
        background: #4caf50;
        color: white;
        border-radius: 5px;
    }

    button:hover { background: #45a049; }
</style>

</head>
<body>

<h1>Tic Tac Toe (You vs AI)</h1>

<div class="container">
    <div class="cell" data-index="0"></div>
    <div class="cell" data-index="1"></div>
    <div class="cell" data-index="2"></div>
    <div class="cell" data-index="3"></div>
    <div class="cell" data-index="4"></div>
    <div class="cell" data-index="5"></div>
    <div class="cell" data-index="6"></div>
    <div class="cell" data-index="7"></div>
    <div class="cell" data-index="8"></div>
</div>

<div id="message">Your turn (X)</div>
<button onclick="resetGame()">Restart</button>

<script>
    const cells = document.querySelectorAll(".cell");
    const message = document.getElementById("message");

    let board = ["", "", "", "", "", "", "", "", ""];
    let currentPlayer = "X"; 
    let gameActive = true;

    const winningConditions = [
        [0,1,2], [3,4,5], [6,7,8],
        [0,3,6], [1,4,7], [2,5,8],
        [0,4,8], [2,4,6]
    ];

    cells.forEach(cell => {
        cell.addEventListener("click", () => handlePlayerMove(cell));
    });

    function handlePlayerMove(cell) {
        if (currentPlayer !== "X" || !gameActive) return;

        const index = cell.getAttribute("data-index");
        if (board[index] !== "") return;

        makeMove(index, "X");

        if (!gameActive) return;

        setTimeout(aiMove, 400);
    }

    function makeMove(index, player) {
        board[index] = player;
        cells[index].textContent = player;

        if (checkWinner(player)) {
            message.textContent = (player === "X") ? "You win!" : "AI wins!";
            gameActive = false;
            return;
        }

        if (!board.includes("")) {
            message.textContent = "It's a draw!";
            gameActive = false;
            return;
        }

        currentPlayer = player === "X" ? "O" : "X";
        message.textContent = currentPlayer === "X" ? "Your turn (X)" : "AI thinking...";
    }

    
    function aiMove() {
        if (!gameActive) return;

        let move = findBestMove();
        makeMove(move, "O");
    }

    function findBestMove() {
    
        for (let i = 0; i < 9; i++) {
            if (board[i] === "") {
                board[i] = "O";
                if (checkWinner("O")) {
                    board[i] = "";
                    return i;
                }
                board[i] = "";
            }
        }

        
        for (let i = 0; i < 9; i++) {
            if (board[i] === "") {
                board[i] = "X";
                if (checkWinner("X")) {
                    board[i] = "";
                    return i;
                }
                board[i] = "";
            }
        }

        
        let available = board
            .map((v, i) => v === "" ? i : null)
            .filter(v => v !== null);

        return available[Math.floor(Math.random() * available.length)];
    }

    function checkWinner(player) {
        return winningConditions.some(condition => {
            const [a, b, c] = condition;
            return (
                board[a] === player &&
                board[b] === player &&
                board[c] === player
            );
        });
    }

    function resetGame() {
        board = ["", "", "", "", "", "", "", "", ""];
        currentPlayer = "X";
        gameActive = true;
        message.textContent = "Your turn (X)";
        cells.forEach(cell => cell.textContent = "");
    }
</script>

</body>
</html>
